[
    {
        "user": "write code for calculator in c++",
        "assistant": "```cpp\n#include <iostream>\n#include <string>\n#include <sstream>\n\n// Function to perform addition\ndouble add(double num1, double num2) {\n    return num1 + num2;\n}\n\n// Function to perform subtraction\ndouble subtract(double num1, double num2) {\n    return num1 - num2;\n}\n\n// Function to perform multiplication\ndouble multiply(double num1, double num2) {\n    return num1 * num2;\n}\n\n// Function to perform division\ndouble divide(double num1, double num2) {\n    if(num2 == 0){\n        throw std::runtime_error(\"Cannot divide by zero\");\n    }\n    return num1 / num2;\n}\n\nint main() {\n    std::string input;\n    double num1, num2;\n    char operation;\n\n    std::cout << \"Enter an expression in the format: number1 operator number2\" << std::endl;\n    std::cout << \"Example: 5 + 3\" << std::endl;\n\n    std::getline(std::cin, input);\n\n    std::stringstream ss(input);\n    ss >> num1 >> operation >> num2;\n\n    switch(operation){\n        case '+':\n            std::cout << \"Result: \" << add(num1, num2) << std::endl;\n            break;\n        case '-':\n            std::cout << \"Result: \" << subtract(num1, num2) << std::endl;\n            break;\n        case '*':\n            std::cout << \"Result: \" << multiply(num1, num2) << std::endl;\n            break;\n        case '/':\n            try{\n                std::cout << \"Result: \" << divide(num1, num2) << std::endl;\n            }catch(const std::runtime_error& e){\n                std::cerr << e.what() << std::endl;\n            }\n            break;\n        default:\n            std::cerr << \"Invalid operator. Please use +, -, *, or /.\" << std::endl;\n    }\n\n    return 0;\n}\n```\n\nThis C++ code implements a simple calculator that takes two numbers and an operator (+, -, *, /) as input and calculates the result accordingly. It uses functions for each operation and handles division by zero with an exception. "
    }
]